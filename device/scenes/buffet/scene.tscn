[gd_scene load_steps=6 format=2]

[ext_resource path="res://scenes/buffet/sprites/M0513_996-7-1-a_JYL.jpg" type="Texture" id=1]
[ext_resource path="res://scenes/buffet/country-mouse-closeup.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/menu/exit.tscn" type="PackedScene" id=4]
[ext_resource path="res://globals/game.scn" type="PackedScene" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends \"res://globals/scene_base.gd\"

var vm;
var paintings = [
	\"RDC-B0009119-2019-SL.jpg\",
	\"RDC-B0009116-2019-SL.jpg\",
	\"RDC-B0009130-2019-SL.jpg\",
	\"RDC-B0009103-2019-SL.jpg\",
	\"RDC-B0009104-2019-SL.jpg\",
	\"RDC-B0009128-2019-SL.jpg\",
	\"RDC-B0009109-2019-SL.jpg\",
	\"RDC-B0009127-2019-SL.jpg\"
]
var currentIndex = 0

func _ready():
	get_node(\"/root/main\").call_deferred(\"set_current_scene\", self)
	vm = get_tree().get_root().get_node(\"vm\")	
	pass

func changeImages(before):
	if currentIndex == 0:
		get_node(\"menu01\").hide()
		get_node(\"menu02\").hide()
		get_node(\"menu00\").show()
		get_node(\"left\").hide()
	elif currentIndex == 1:
		if before == 2:
			get_node(\"menu03\").hide()
			get_node(\"menu04\").hide()
			get_node(\"right\").show()
		else:
			get_node(\"menu00\").hide()
			get_node(\"left\").show()
		get_node(\"menu01\").show()
		get_node(\"menu02\").show()
	else:
		get_node(\"menu01\").hide()
		get_node(\"menu02\").hide()
		get_node(\"menu03\").show()
		get_node(\"menu04\").show()
		get_node(\"right\").hide()

func _on_left_pressed():
	var before = currentIndex
	currentIndex = currentIndex - 1 
	changeImages(before)

func _on_right_pressed():
	var before = currentIndex
	currentIndex = currentIndex + 1 
	changeImages(before)

func _on_exit_pressed():
	vm.load_file(\"res://scenes/slide-show/exit.esc\")
"

[node name="scene" type="Node2D"]
script = SubResource( 1 )
__meta__ = {
"_edit_horizontal_guides_": [ 0.923004 ],
"_edit_vertical_guides_": [ 1544.99 ]
}

[node name="background" type="TextureRect" parent="."]
margin_right = 1027.0
margin_bottom = 800.0
rect_scale = Vector2( 1.58, 1.58 )
expand = true
__meta__ = {
"_edit_lock_": true
}

[node name="game" parent="." instance=ExtResource( 8 )]

[node name="buffet" type="Sprite" parent="."]
position = Vector2( 789.407, 523.592 )
scale = Vector2( 1.3, 1.3 )
texture = ExtResource( 1 )

[node name="exit" parent="." instance=ExtResource( 4 )]
position = Vector2( 147.639, 1021.17 )
tooltip = "Exit the menu"
events_path = "res://scenes/menu/exit.esc"
global_id = "exit_menu"
placeholders = {

}

[node name="country-mouse-closeup" parent="." instance=ExtResource( 2 )]
position = Vector2( 502.111, 472.748 )
scale = Vector2( 0.5, 0.5 )
placeholders = {

}
